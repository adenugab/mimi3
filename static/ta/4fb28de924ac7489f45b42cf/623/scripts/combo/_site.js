Y.use("node","squarespace-gallery-ng",function(a){a.on("domready",function(){function f(){if(800>h)a.all(".slide img[data-src]").each(function(a){ImageLoader.load(a,{load:!0})}),a.all(".slide .sqs-video-wrapper").each(function(b){b.plug(a.Squarespace.VideoLoader)});else if(a.one("#slideshowWrapper .slide")){var b=parseInt(a.Squarespace.Template.getTweakValue("galleryHeightMax"),10);d=new a.Squarespace.Gallery2({container:"#slideshow",loop:!0,keyboard:{next:"down:39",previous:"down:37"},elements:{next:".next-slide",
previous:".prev-slide",currentIndex:".current-index",totalSlides:".total-slides"},design:"stacked",designOptions:{speed:0.5,easing:a.Easing.easeOutStrong,transition:"fade",autoHeight:!1},historyHash:!0});var e;e=new a.Squarespace.Gallery2({container:"#thumbnails",currentIndex:d.get("currentIndex"),loop:!0,keyboard:!1,design:"base"});d.addChild(e);var f=a.bind(function(e,f){var i=a.one("#slideshowWrapper"),g=d.get("slides").item(e).one("img, .sqs-video-wrapper"),c;g.videoloader?c={width:g.videoloader.getWidth(),
height:g.videoloader.getHeight()}:(c=g.getAttribute("data-image-dimensions"),"string"===typeof c?(c=c.split("x").map(function(a){return Number(a)}),c={width:c[0],height:c[1]}):c={width:null,height:null});var h=g.videoloader?i.width():Math.min(i.width(),c.width);c=c.height/c.width*h;c=Math.ceil(Math.min(c,b));if(!isNaN(c))if(f)i.anim({},{to:{height:c},duration:0.3,easing:a.Easing.easeInOutQuad}).run().on("end",function(){g.fire("refresh")});else i.setStyle("height",c+"px")},this);f(d.get("currentIndex"),
!1);a.all("#imageData .slide").item(d.get("currentIndex")).addClass("active");d.on("currentIndexChange",function(b){b=0<=b.newVal?b.newVal:d.get("slides").size()+b.newVal;f(b,!0);a.all("#imageData .slide").item(b).addClass("active").siblings().removeClass("active")})}}function e(){if(a.one("#pageWrapper").hasClass("grid-visible")){a.one("#thumbnails").anim({opacity:0}).run();a.one("#pageWrapper").toggleClass("grid-visible");var b=a.UA.gecko?"html":"body";(new a.Anim({node:document.scrollingElement||
b,to:{scroll:[0,0]},duration:0.9,easing:"easeBoth"})).run();a.one("#galleryWrapper").setStyle("visibility","visible");a.one("#galleryWrapper").setStyle("overflow","visible");a.one("#galleryWrapper").setStyle("height","auto");a.one("#galleryWrapper").anim({opacity:1}).run()}else a.one("#galleryWrapper").anim({opacity:0}).run(),a.one("#galleryWrapper").setStyle("visibility","hidden"),a.one("#galleryWrapper").setStyle("overflow","hidden"),a.one("#galleryWrapper").setStyle("height","0px"),a.one("#pageWrapper").toggleClass("grid-visible"),
a.one("#thumbnails").anim({opacity:1}).run()}function j(){var b=a.one("h1.logo"),d=a.one("#logoSpacer .logo");b.hasAttribute("style")&&(b=b.getAttribute("style"),d&&d.setAttribute("style",b))}var k=a.one("body"),h=parseInt(k.getComputedStyle("width"),10),d;a.one("#topNav").delegate("click",function(a){a.currentTarget.toggleClass("folder-open")},".folder");a.one("#mobileMenuLink a").on("click",function(){var b=parseInt(a.one("#mobileNav .wrapper").get("offsetHeight"),10);a.one("#mobileNav").hasClass("menu-open")?
(new a.Anim({node:a.one("#mobileNav"),to:{height:0},duration:0.5,easing:"easeBoth"})).run():(new a.Anim({node:a.one("#mobileNav"),to:{height:b},duration:0.5,easing:"easeBoth"})).run();a.one("#mobileNav").toggleClass("menu-open")});if(a.one("body").hasClass("collection-type-gallery")){a.one(".gallery-view-start-on-grid")&&800<=h&&e();f();a.one("#gridButton").on("click",function(){e()});var l=a.all("#thumbnails .thumb");a.one("#thumbnails").delegate("click",function(a){d.set("currentIndex",l.indexOf(a.currentTarget));
e()},".thumb");if(a.Squarespace.Management)a.Squarespace.Management.on("tweak",function(a){("siteWidth"==a.getName()||"galleryHeight"==a.getName()||"header-position"==a.getName())&&d.fire("refresh");"gallery-view"==a.getName()&&e()});a.Global.on("tweak:reset",function(){d.fire("refresh")});a.one("window").on("resize",function(){d.fire("refresh");a.all(".slide img[data-src]").each(function(a){a.fire("refresh")})})}j();a.on("windowresize",function(){j()})})});
Y.use("node",function(){window.Site=Singleton.create({ready:function(){Y.on("domready",function(){this.bindUI();this.syncUI()},this)},bindUI:function(){Y.one(window).on("resize",this.syncUI,this)},syncUI:function(){this.horizontalFolderFix()},horizontalFolderFix:function(){var a=Y.one("#canvas").get("clientWidth");800>=a?(Y.one("body").removeAttribute("data-menu"),Y.one("body").setAttribute("data-menu","mobile")):1024>=a?(Y.one("body").removeAttribute("data-menu"),Y.one("body").setAttribute("data-menu",
"tablet"),Y.one("#mainNavigation").delegate("click",function(a){a.currentTarget.siblings(".folder-collection").removeClass("folder-open");var e=Y.one(".active-folder .subnav").getStyle("display");console.log(e);"none"==e?Y.one(".active-folder .subnav").setStyle("display","block"):a.currentTarget.siblings().hasClass(".active-folder")&&Y.one(".active-folder .subnav").setStyle("display","none")},".folder-collection",this)):(Y.one("body").removeAttribute("data-menu"),Y.one("body").setAttribute("data-menu",
"desktop"))}})});